<!-- ngx-datatable-row-details -->

<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title">List of Schools</h4>


                <div class="col-12 mb-50">
                    <a csvLink [data]="exportCSVData" class="btn btn-outline-secondary float-right mr-1" rippleEffect
                    >Export CSV</a
                    >


            <div class="card-body">
                <div class="w-100">
                    <ngx-datatable
                        #tableRowDetails
                        class="bootstrap core-bootstrap"
                        columnMode="force"
                        [headerHeight]="40"
                        [footerHeight]="50"
                        [rowHeight]="58"
                        [limit]="10"
                        [rows]="rows"
                        [scrollbarH]="true"
                    >
                        <!-- Row Detail Template -->
                        <ngx-datatable-row-detail [rowHeight]="50">

                            <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
                                <strong>Address : </strong> <span>{{ joinAddressBlocks(row.adresse) }}</span>
                            </ng-template>
                        </ngx-datatable-row-detail>


                        <ngx-datatable-column
                                [width]="50"
                                [resizeable]="false"
                                [sortable]="false"
                                [draggable]="false"
                                [canAutoResize]="false"
                        >
                            <ng-template let-row="row" let-expanded="expanded"  ngx-datatable-cell-template>
                                <a
                                        href="javascript:void(0)"
                                        [class.datatable-icon-right]="!expanded"
                                        [class.datatable-icon-down]="expanded"
                                        title="Expand/Collapse Row"
                                        (click)="rowDetailsToggleExpand(row)"
                                >⬍
                                </a>
                            </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-column name="Name    ⬍" prop="nom" [width]="250"></ngx-datatable-column>
                        <ngx-datatable-column name="Email    ⬍" prop="email" [width]="250"></ngx-datatable-column>
                        <ngx-datatable-column name="Num Tel   ⬍" prop="numTel" [width]="120"></ngx-datatable-column>
                        <ngx-datatable-column name="Code Fiscal   ⬍" prop="codeFiscal"
                                              [width]="120"></ngx-datatable-column>
                        <ngx-datatable-column name="Actions" [width]="120" [sortable]="false">

                            <ng-template ngx-datatable-cell-template>
                                <div class="d-flex align-items-center">
                                    <div ngbDropdown container="body">
                                        <a ngbDropdownToggle
                                           href="javascript:void(0);"
                                           class="hide-arrow"
                                           id="dropdownBrowserState"
                                           data-toggle="dropdown"
                                           aria-haspopup="true"
                                           aria-expanded="false"
                                        >

                                            <i data-feather="more-vertical"
                                               class="text-primary cursor-pointer mr-50"></i>
                                        </a>
                                        <div ngbDropdownMenu class="dropdown-menu-right"
                                             aria-labelledby="dropdownBrowserState">
                                            <a href="javascript:void(0)" ngbDropdownItem
                                               class="d-flex align-items-center"
                                            ><i data-feather="file-text" class="mr-50"></i> Details</a
                                            >
                                            <a href="javascript:void(0)" ngbDropdownItem
                                               class="d-flex align-items-center"
                                            ><i data-feather="archive" class="mr-50"></i> Archive</a
                                            >
                                            <a href="javascript:void(0)" ngbDropdownItem
                                               class="d-flex align-items-center"
                                            ><i data-feather="trash-2" class="mr-50"></i> Delete</a
                                            >
                                        </div>
                                    </div>

                                    <i data-feather="edit" class="text-primary cursor-pointer"></i>
                                </div>


                            </ng-template>


                        </ngx-datatable-column>


                    </ngx-datatable>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- ngx-datatable-row-details -->