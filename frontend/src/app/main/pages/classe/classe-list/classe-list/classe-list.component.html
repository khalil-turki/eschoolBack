<!-- ngx-datatable-row-details -->

<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title">List of Classes</h4>


                <div class="col-12 mb-50">
                    <a csvLink [data]="exportCSVData" class="btn btn-outline-secondary float-right mr-1" rippleEffect
                    >Export CSV</a
                    >


                    <div class="card-body">
                        <div class="w-100">
                            <ngx-datatable
                                #tableRowDetails
                                class="bootstrap core-bootstrap"
                                columnMode="force"
                                [headerHeight]="40"
                                [footerHeight]="50"
                                [rowHeight]="58"
                                [limit]="5"
                                [rows]="rows"
                                [scrollbarH]="true"
                            >
                                <!-- Row Detail Template -->
                                <ngx-datatable-row-detail [rowHeight]="50">

                                    <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
                                        <strong>Students : </strong> <span>{{ joinAddressBlocks(row.etudiants) }}</span>
                                    </ng-template>
                                </ngx-datatable-row-detail>


                                <ngx-datatable-column
                                        [width]="50"
                                        [resizeable]="false"
                                        [sortable]="false"
                                        [draggable]="false"
                                        [canAutoResize]="false"
                                >
                                    <ng-template let-row="row" let-expanded="expanded"  ngx-datatable-cell-template>
                                        <a
                                                href="javascript:void(0)"
                                                [class.datatable-icon-right]="!expanded"
                                                [class.datatable-icon-down]="expanded"
                                                title="Expand/Collapse Row"
                                                (click)="rowDetailsToggleExpand(row)"
                                        >üçÜ
                                        </a>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Nom de classe   üçÜ" prop="nomClasse" [width]="250"></ngx-datatable-column>
                                <ngx-datatable-column name="Specialit√©    üçÜ" prop="specialite" [width]="250"></ngx-datatable-column>

                                <ngx-datatable-column name="Actions" [width]="120" [sortable]="false">

                                    <ng-template ngx-datatable-cell-template>
                                        <div class="d-flex align-items-center">
                                            <div ngbDropdown container="body">
                                                <a ngbDropdownToggle
                                                   href="javascript:void(0);"
                                                   class="hide-arrow"
                                                   id="dropdownBrowserState"
                                                   data-toggle="dropdown"
                                                   aria-haspopup="true"
                                                   aria-expanded="false"
                                                >

                                                    <i data-feather="more-vertical"
                                                       class="text-primary cursor-pointer mr-50"></i>
                                                </a>
                                                <div ngbDropdownMenu class="dropdown-menu-right"
                                                     aria-labelledby="dropdownBrowserState">
                                                    <button type="button" class="btn btn-link"  data-toggle="modal" data-target="#exampleModal" >
                                                        <i class="fas fa-pencil-alt"></i>&nbsp;Modifier
                                                    </button>

                                                    <a href="javascript:void(0)" ngbDropdownItem
                                                       class="d-flex align-items-center"
                                                    ><i data-feather="archive" class="mr-50"></i> Archive</a
                                                    >

                                                    <button type="button" class="btn btn-link text-danger" data-toggle="modal" [attr.data-target]="'#modalDelete'"  >
                                                        <i data-feather="trash-2" class="mr-50"></i> Delete
                                                    </button>
                                                </div>
                                            </div>
                                            <button type="button" class="btn btn-link"  data-toggle="modal" data-target="#exampleModal" (click)="modifierClasse(4)" >
                                                <i data-feather="edit" class="text-primary cursor-pointer"></i>
                                            </button>
                                        </div>


                                    </ng-template>


                                </ngx-datatable-column>


                            </ngx-datatable>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>












<!-- Modal -->

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" autofocus>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Correction</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="nombre">
                    </div>
                    <div class="form-group">
                        <select class="form-control">
                            <option>Positive Correction</option>
                            <option>Negative Correction </option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-ban"></i>&nbsp;Cancel</button>
                <button type="button" class="btn btn-primary"> <i class="fas fa-save"></i>&nbsp;Save</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->

<!-- <div class="modal fade" id="modalDeleteArticle{{ articleDto.id }}" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
     aria-hidden="true"> -->

<div class="modal fade" id="modalDelete{{ classeDto.id }}" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Confirmation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Etes vous-sur de vouloir supprimer cette classe?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">
                    <i class="fas fa-ban"></i>&nbsp;Annuler</button>

                <!-- <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="confirmerEtSupprimerArticle()">
                   <i class="fas fa-trash-alt"></i>&nbsp;Supprimer</button> -->

                <button type="button" class="btn btn-danger" data-dismiss="modal"  (click)="confirmerEtSupprimer()">
                    <i class="fas fa-trash-alt"></i>&nbsp;Supprimer</button>
            </div>
        </div>
    </div>
</div>
<!-- </div> -->
<!-- </div> -->



<!-- ngx-datatable-row-details -->
